!function(){"use strict";function t(t,e,i=null,s=!1){const n=e.options.slideStatusA11y?.split(", ")||["Displaying slide","of"];e.currentSlide?.setAttribute("aria-hidden","true"),e.slides[t].removeAttribute("aria-hidden"),e.status.innerText=`${n[0]} ${t+1} ${n[1]} ${e.slides.length}`,i(t),e.currentSlide=e.slides[t],e.currentSlideIndex=t,s&&e.update()}var e=class{constructor(t,e){this.element=t,this.options=e,this.moduleInstances=[],this.#t()}#t(){this.userPointer={isDown:!1,target:null},this.slideList=this.element.querySelector('[data-slider="slideList"]'),this.slideList.style.transition=this.options.transition||"",this.slideList.style.cursor=this.options.cursor.pointerEnter||"default",this.slides=Array.from(this.slideList.children),this.currentSlide=null,this.currentSlideIndex=null,this.slidesGap=parseFloat(getComputedStyle(this.slides[0]).marginRight)||parseFloat(getComputedStyle(this.slides[1]).marginLeft)||parseFloat(getComputedStyle(this.slideList).columnGap)||0,this.#e();try{this.options.modules.forEach((t=>{const e=new t(this,this.slides,this.options);this.moduleInstances.push(e),e.slideAnimation&&(this.animation=e.slideAnimation.bind(e))}))}catch(t){console.error(t)}t(0,this,this.animation)}#e(){this.options.skipSlider.buttonPresense&&(this.endOfSlider=document.createElement("div"),this.endOfSlider.innerText=this.options.skipSlider.a11y?.[1]||"End of slider",this.endOfSlider.setAttribute("tabindex","-1"),this.endOfSlider.classList.add("--visually-hidden","--sr-only","--end-of-slider"),this.skipSliderButton=document.createElement("button"),this.skipSliderButton.innerText=this.options.skipSlider.a11y?.[0]||"Skip slider",this.skipSliderButton.classList.add("--visually-hidden","--sr-only","--skip-slider-button"),this.element.append(this.endOfSlider),this.element.prepend(this.skipSliderButton),this.skipSliderButton.addEventListener("click",(t=>{this.endOfSlider.focus()})));const t=this.options.slideStatusA11y?.split(", ")||["Displaying slide","of"];this.status=document.createElement("div"),this.element.append(this.status),this.status.setAttribute("role","status"),this.status.classList.add("--slider-status","--visually-hidden"),this.status.innerText=`${t[0]} 1 ${t[1]} ${this.slides.length}`,this.slides.forEach(((t,e)=>{0===e?this.currentSlide=t:t.setAttribute("aria-hidden","true")}))}update(){this.moduleInstances.forEach((t=>{t.update&&t.update()}))}};let i={37:1,38:1,39:1,40:1};function s(t){t.preventDefault()}function n(t){if(i[t.keyCode])return s(t),!1}let r=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){r=!0}}))}catch(t){}let l=!!r&&{passive:!1},d="onwheel"in document.createElement("div")?"wheel":"mousewheel";class a{constructor(t,e,i){this.slider=t,this.slides=e,this.options=i.pagination,this.element=this.options.element,this.element?this.#t():console.warn("Pagination element is undefined")}#t(){this.userPointer={isDown:!1,target:null},this.dots=Array.from(this.element.children),this.currentPage=this.dots[0],this.#e(),this.keyDownHandler=this.keyDownHandler.bind(this),this.pointerDownHandler=this.pointerDownHandler.bind(this),this.pointerUpHandler=this.pointerUpHandler.bind(this),this.element.addEventListener("keydown",this.keyDownHandler),this.element.addEventListener("pointerdown",this.pointerDownHandler),this.element.addEventListener("pointerup",this.pointerUpHandler)}#e(){const t=this.options.a11y?.[1]?.split(", ")||["Slide to","of"];this.element.setAttribute("aria-label",this.options.a11y?.[0]||"Slider pagination"),this.dots.forEach(((e,i)=>{e.children[0].setAttribute("aria-label",`${t[0]} ${i+1} ${t[1]} ${this.dots.length}`),0===i&&e.children[0].setAttribute("aria-current","true")}))}keyDownHandler(t){const e=t.target.parentElement;if("LI"===e.tagName)switch(t.key){case"Home":t.preventDefault(),this.changeDot(this.dots[0]);break;case"End":t.preventDefault(),this.changeDot(this.dots[this.dots.length-1]);break;case"Enter":case" ":t.preventDefault(),this.changeDot(e)}}pointerDownHandler(t){t.target.closest("button")&&(this.userPointer.isDown=!0,this.userPointer.target=t.target)}pointerUpHandler(t){this.userPointer.isDown&&t.target===this.userPointer.target&&(this.changeDot(t.target.parentElement),this.userPointer.isDown=!1)}update(){this.selectDot(this.dots[this.slider.slides.indexOf(this.slider.currentSlide)])}selectDot(t){this.currentPage.children[0].removeAttribute("aria-current"),t.children[0].setAttribute("aria-current","true"),this.currentPage=t}changeDot(e){this.selectDot(e),e.children[0].focus(),t(this.dots.indexOf(e),this.slider,this.slider.animation)}}class o{constructor(t,e,i){this.slider=t,this.slides=e,this.options=i.navigation,this.prevButton=this.options.prevButton,this.nextButton=this.options.nextButton,this.prevButton&&this.nextButton?this.#t():console.warn("Navigation buttons are undefined")}#t(){this.userPointer={isDown:!1,target:null},this.#e(),this.keyDownHandler=this.keyDownHandler.bind(this),this.pointerDownHandler=this.pointerDownHandler.bind(this),this.pointerUpHandler=this.pointerUpHandler.bind(this),this.prevButton.addEventListener("keydown",this.keyDownHandler),this.prevButton.addEventListener("pointerdown",this.pointerDownHandler),this.prevButton.addEventListener("pointerup",this.pointerUpHandler),this.nextButton.addEventListener("keydown",this.keyDownHandler),this.nextButton.addEventListener("pointerdown",this.pointerDownHandler),this.nextButton.addEventListener("pointerup",this.pointerUpHandler)}#e(){this.prevButton.setAttribute("aria-label",this.options.a11y?.[0]||"Previous slide"),this.nextButton.setAttribute("aria-label",this.options.a11y?.[1]||"Next slide")}keyDownHandler(t){const e=t.target.closest("button");e&&(" "!==t.key&&"Enter"!==t.key||(t.preventDefault(),this.changeSlide(e)))}pointerDownHandler(t){t.target.closest("button")&&(this.userPointer.isDown=!0,this.userPointer.target=t.target.closest("button"))}pointerUpHandler(t){this.userPointer.isDown&&t.target.closest("button")===this.userPointer.target&&(t.preventDefault(),this.changeSlide(this.userPointer.target),this.userPointer.isDown=!1)}changeSlide(e){const i=this.slider.currentSlideIndex;switch(e){case this.prevButton:this.slider.slides[i].previousElementSibling?t(i-1,this.slider,this.slider.animation,!0):t(this.slider.slides.length-1,this.slider,this.slider.animation,!0);break;case this.nextButton:this.slider.slides[i].nextElementSibling?t(i+1,this.slider,this.slider.animation,!0):t(0,this.slider,this.slider.animation,!0)}}}class h{#i=0;constructor(t,e,i){this.slider=t,this.slides=e,this.options=i,this.#t()}#t(){this.translateWidth=0,this.translateChange=0,this.translateValue=0,this.grabSlideList={clientX:0,clientY:0,needChangeSlide:!1,newSlideIndex:null,translated:0},this.pointerDownHandler=this.pointerDownHandler.bind(this),this.pointerUpHandler=this.pointerUpHandler.bind(this),this.pointerMoveHandler=this.pointerMoveHandler.bind(this),this.resizeObserver=this.resizeObserver.bind(this),this.slider.element.addEventListener("pointerdown",this.pointerDownHandler),this.slider.element.addEventListener("pointerup",this.pointerUpHandler),this.slider.element.addEventListener("pointermove",this.pointerMoveHandler,{passive:!1}),new ResizeObserver(this.resizeObserver).observe(this.slider.element)}resizeObserver(){this.translateWidth=this.slider.currentSlide.offsetWidth+this.slider.slidesGap,getComputedStyle(this.slider.slideList).transform.split(", ")[4]%this.translateWidth!=0&&(this.slider.slideList.style.transform=`translateX(-${this.translateWidth*this.slider.currentSlideIndex}px)`)}pointerDownHandler(t){t.target.closest('[data-slider="slideList"]')&&t.isPrimary&&(this.slider.userPointer.isDown=!0,this.slider.userPointer.target=t.target,this.grabSlideList.clientX=t.clientX,this.grabSlideList.clientY=t.clientY,this.slider.slideList.style.transition="",this.slider.slideList.style.cursor=this.slider.options.cursor.grab||"default",window.addEventListener("DOMMouseScroll",s,!1),window.addEventListener(d,s,l),window.addEventListener("touchmove",s,l),window.addEventListener("keydown",n,!1))}pointerUpHandler(e){this.slider.userPointer.isDown&&e.isPrimary&&(this.slider.userPointer.isDown=!1,this.slider.userPointer.target=null,this.grabSlideList.clientX=0,this.grabSlideList.clientY=0,this.translateChange<0&&Math.abs(this.translateChange)>=this.translateWidth/2?this.slider.currentSlideIndex!==this.slider.slides.length-1?t(this.slider.currentSlideIndex+1,this.slider,this.slideAnimation.bind(this),!0):(this.grabSlideList.newSlideIndex=0,t(0,this.slider,this.slideAnimation.bind(this),!0)):this.translateChange>0&&Math.abs(this.translateChange)>=this.translateWidth/2?0!==this.slider.currentSlideIndex?t(this.slider.currentSlideIndex-1,this.slider,this.slideAnimation.bind(this),!0):t(this.slider.slides.length-1,this.slider,this.slideAnimation.bind(this),!0):this.slider.slideList.style.transform=`translateX(${this.grabSlideList.translated}px)`,this.slider.slideList.style.transition=this.slider.options.transition,this.slider.slideList.style.cursor=this.slider.options.cursor.pointerEnter||"default",window.removeEventListener("DOMMouseScroll",s,!1),window.removeEventListener(d,s,l),window.removeEventListener("touchmove",s,l),window.removeEventListener("keydown",n,!1))}pointerMoveHandler(t){this.slider.userPointer.isDown&&t.isPrimary&&(t.preventDefault(),t.stopPropagation(),Date.now()-this.#i<1||(this.#i=Date.now(),this.grabSlideList.translated=-this.translateWidth*this.slider.currentSlideIndex,this.translateChange=t.clientX-this.grabSlideList.clientX,this.translateValue=this.grabSlideList.translated+this.translateChange,this.slider.slideList.style.transform=`translateX(${this.translateValue}px)`))}slideAnimation(t){this.slider.slideList.style.transform=`translateX(-${this.translateWidth*t}px)`}}document.querySelectorAll('[data-slider="slider"]').forEach((t=>{new e(t,{modules:[h,o,a],transition:"all 0.3s",cursor:{pointerEnter:"pointer",grab:"grab"},slideStatusA11y:"Показывается слайд, из",skipSlider:{buttonPresense:!0,a11y:["Пропустить слайдер","Конец слайдера"]},navigation:{prevButton:t.querySelector('[data-slider="prevButton"]'),nextButton:t.querySelector('[data-slider="nextButton"]'),a11y:["Предыдущий слайд","Следующий слайд"]},pagination:{element:t.querySelector('[data-slider="pagination"]'),a11y:["Пагинация слайдера","Переключить на, из"]}})}))}();